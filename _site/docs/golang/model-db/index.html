<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="https://cs.dbuckley.dev/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://cs.dbuckley.dev/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="https://cs.dbuckley.dev/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://cs.dbuckley.dev/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Beego Part 4 - Models and SQL Databases | Merit Academy Tech U</title><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Beego Part 4 - Models and SQL Databases" /><meta property="og:locale" content="en_US" /><meta name="description" content="Some tips on how to do the code." /><meta property="og:description" content="Some tips on how to do the code." /><link rel="canonical" href="https://cs.dbuckley.dev/docs/golang/model-db/" /><meta property="og:url" content="https://cs.dbuckley.dev/docs/golang/model-db/" /><meta property="og:site_name" content="Merit Academy Tech U" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Beego Part 4 - Models and SQL Databases" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Some tips on how to do the code.","headline":"Beego Part 4 - Models and SQL Databases","url":"https://cs.dbuckley.dev/docs/golang/model-db/"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://cs.dbuckley.dev/" class="site-title lh-tight"> Merit Academy Tech U </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://cs.dbuckley.dev/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/git/" class="nav-list-link">GitHub</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/git/markdown/" class="nav-list-link">Markdown</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/git/markdown/01/" class="nav-list-link">GitHub and Markdown</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/git/markdown/02/" class="nav-list-link">Replit and Markdown</a></ul><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/git/02/" class="nav-list-link">GitHub Projects</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/git/10/" class="nav-list-link">GitHub Pages with Jekyll</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/processing/" class="nav-list-link">Processing - Intro to CS</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/processing/basics/" class="nav-list-link">Processing Basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/01/" class="nav-list-link">What is a Programming Language?</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/02/" class="nav-list-link">First Processing Program</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/03/" class="nav-list-link">Pizza Time!</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/04/" class="nav-list-link">Quiz Game - Logic and Control Flow</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/05/" class="nav-list-link">Snowflake App</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/basics/06/" class="nav-list-link">Input Validator</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/processing/data-structures/" class="nav-list-link">Data Structures</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/data-structures/01/" class="nav-list-link">What are Data Structures?</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/data-structures/02/" class="nav-list-link">Pokemon Information Science</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/processing/data-structures/03/" class="nav-list-link">Dinosaur Game Clone</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/web-dev-basics/" class="nav-list-link">Web Dev Basics</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev-basics/html/" class="nav-list-link">HTML</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev-basics/css-basics/" class="nav-list-link">CSS Basics</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev-basics/css-layouts/" class="nav-list-link">CSS Layouts</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev-basics/well-formed/" class="nav-list-link">Well-Formed Websites</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev-basics/the-internet/" class="nav-list-link">The Internet</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/web-dev-advanced/" class="nav-list-link">Web Dev Advanced</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev/web-services/" class="nav-list-link">Intro to Web Services</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev/http-https/" class="nav-list-link">HTTP and HTTPS</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev/docker/" class="nav-list-link">Docker</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/web-dev/systemd-ftp/" class="nav-list-link">systemd and FTP</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/golang/" class="nav-list-link">Golang</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/intro/" class="nav-list-link">Intro to Go</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/mvc/" class="nav-list-link">Beego Part 1 - MVC Web Development</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/tailwind/" class="nav-list-link">Beego Part 2 - Styling with Tailwind</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/http-methods/" class="nav-list-link">Beego Part 3 - HTTP Methods and Forms</a><li class="nav-list-item active"><a href="https://cs.dbuckley.dev/docs/golang/model-db/" class="nav-list-link active">Beego Part 4 - Models and SQL Databases</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/admin/" class="nav-list-link">Beego Part 5 - Users and Admin Interface Part 1</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/golang/admin2/" class="nav-list-link">Beego Part 6 - Users and Admin Interface Part 2</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/javascript/" class="nav-list-link">JavaScript</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/javascript/basics/" class="nav-list-link">JavaScript Basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/01/" class="nav-list-link">Variables and Functions</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/02/" class="nav-list-link">Data Types and Objects</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/03/" class="nav-list-link">The Document and Window Objects</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/04/" class="nav-list-link">Logic and Control Flow</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/05/" class="nav-list-link">Events</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/06/" class="nav-list-link">String, Number, and Array Methods</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/unit-project/" class="nav-list-link">Unit Project - To Do App</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/basics/for-teachers/" class="nav-list-link">For Teachers</a></ul><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/javascript/games/" class="nav-list-link">JavaScript Games</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/javascript/forms/" class="nav-list-link">JavaScript Forms</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/javascript/api/" class="nav-list-link">REST APIs with Express.js</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/javascript/api/01/" class="nav-list-link">Intro to Express.js</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/react-js/" class="nav-list-link">React.js</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/react-js/basics" class="nav-list-link">React.js Basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/basics/01/" class="nav-list-link">React State and Props</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/basics/02/" class="nav-list-link">React w/Fetch API</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial" class="nav-list-link">Next.js Blog Tutorial</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial/01/" class="nav-list-link">Part 1 - Next.js Project Setup</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial/02/" class="nav-list-link">Part 2 - Blog Posts and CSS</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial/03/" class="nav-list-link">Part 3 - Components and DRYness</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial/04/" class="nav-list-link">Part 4 - Search Engine Optimization</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/react-js/next-blog-tutorial/05/" class="nav-list-link">Part 5 - APIs and Databases</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/python/" class="nav-list-link">Learn Python</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/python/objects/" class="nav-list-link">Objects in Python</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/python/pyxel" class="nav-list-link">Learn Pyxel</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/python/pyxel/01/" class="nav-list-link">Physics Engine</a></ul><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/python/projects" class="nav-list-link">Python Projects</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/unity-cs/" class="nav-list-link">Unity and C#</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/unity-cs/platformer-basics/" class="nav-list-link">Platformer Basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/01/" class="nav-list-link">Creating a Unity Project</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/02/" class="nav-list-link">Creating a Player</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/03/" class="nav-list-link">Creating a Tilemap</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/04/" class="nav-list-link">Adding Tiles</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/05/" class="nav-list-link">Scripting</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/platformer-basics/06/" class="nav-list-link">Platformer Extras</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/unity-cs/top-down-game/" class="nav-list-link">Top Down Game</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/01/" class="nav-list-link">Project Setup and Folders</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/02/" class="nav-list-link">Creating a Player and Tilemap</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/03/" class="nav-list-link">Heads-Up Display</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/04/" class="nav-list-link">Collectibles</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/05/" class="nav-list-link">Prefabs and Scenes</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/top-down-game/06/" class="nav-list-link">Traverse Through Scenes and Doors</a></ul><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/unity-cs/animation-basics/" class="nav-list-link">Animation Basics</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/unity-cs/state-machines/" class="nav-list-link">State Machines</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/state-machines/01/" class="nav-list-link">Getting Started</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/state-machines/02/" class="nav-list-link">Enemy States</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/unity-and-cs/state-machines/03/" class="nav-list-link">States and Animation</a></ul><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/unity-cs/extra-resources/" class="nav-list-link">Extra Resources</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/java-greenfoot/" class="nav-list-link">Java with Greenfoot</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/" class="nav-list-link">Turtley Amazing</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/01/" class="nav-list-link">Introduction</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/02/" class="nav-list-link">Setup</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/03/" class="nav-list-link">Drawing a Line</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/04/" class="nav-list-link">Turning</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/05/" class="nav-list-link">Changing Colors</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/06/" class="nav-list-link">Repetition</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/07/" class="nav-list-link">Better Spirals</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/08/" class="nav-list-link">Loopy Colors</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/09/" class="nav-list-link">Modulo to the Rescue</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtley-amazing/10/" class="nav-list-link">Enormous Lists</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtle-snowflakes/" class="nav-list-link">Turtle Snowflakes</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtle-snowflakes/01/" class="nav-list-link">Introduction</a><li class="nav-list-item "> <a href="https://cs.dbuckley.dev/docs/java-greenfoot/turtle-snowflakes/02/" class="nav-list-link">Using Loops to Create Shapes</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/algorithms/" class="nav-list-link">Algorithms</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/algorithms/01/" class="nav-list-link">Strings Part 1</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://cs.dbuckley.dev/docs/mobile-apps/" class="nav-list-link">Mobile Apps</a><ul class="nav-list "><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/mobile-apps/01/" class="nav-list-link">Mobile App Project Setup</a><li class="nav-list-item "><a href="https://cs.dbuckley.dev/docs/mobile-apps/02/" class="nav-list-link">Markup Languages</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Merit Academy Tech U" aria-label="Search Merit Academy Tech U" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//cs.dbuckley.dev" class="site-button" > Merit Academy Tech Home </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://cs.dbuckley.dev/docs/golang/">Golang</a><li class="breadcrumb-nav-list-item"><span>Beego Part 4 - Models and SQL Databases</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 id="models-and-sql-databases"> <a href="#models-and-sql-databases" aria-labelledby="models-and-sql-databases" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Models and SQL Databases</h1><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/zsjvFFKOm3c?si=4NdXh2SPWhKfHuc3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe><p>Databases are key to saving persistent (long-term) data in an application. We will save all contacts that submit the form to a SQL Database, where records are identified by a <em>primary key</em> (usually called <code class="language-plaintext highlighter-rouge">id</code>) and can have any number of column values. You can think of it a little bit like a spreadsheet.</p><p>We will use a SQLite file database to store our data.</p><blockquote><p>If anything with your database goes wrong in development or you change your data models, you can simply delete your database file. Note that your server must be stopped while you delete your database file.</p></blockquote><p>In the MVC pattern, <strong>models</strong> represent data. Beego has a built-in Object-Relational Mapper (ORM), where a Go struct (model) can match what is in a database table. This abstracts away any SQL that we would potentially need to write for now; we will learn to use SQL in a different unit. If you are interested, check out <a href="https://www.w3schools.com/sql/">w3schools</a> for some examples on how SQL works.</p><p><code class="language-plaintext highlighter-rouge">models/default.go</code></p><div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">models</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"log"</span>

	<span class="s">"github.com/beego/beego/v2/adapter/orm"</span>
	<span class="n">_</span> <span class="s">"github.com/mattn/go-sqlite3"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">ContactModel</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Id</span>      <span class="kt">uint64</span> <span class="s">`orm:"auto"`</span>        <span class="c">// this automatically creates an integer primary key</span>
	<span class="n">Name</span>    <span class="kt">string</span> <span class="s">`orm:"size(100)"`</span>   <span class="c">// 100 characters max</span>
	<span class="n">Email</span>   <span class="kt">string</span> <span class="s">`orm:"size(255)"`</span>   <span class="c">// 255 characters max</span>
	<span class="n">Message</span> <span class="kt">string</span> <span class="s">`form:"type(text)"`</span> <span class="c">// any size string</span>
<span class="p">}</span>

<span class="k">var</span> <span class="n">O</span> <span class="n">orm</span><span class="o">.</span><span class="n">Ormer</span>

<span class="k">func</span> <span class="n">InitDB</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">orm</span><span class="o">.</span><span class="n">RegisterDriver</span><span class="p">(</span><span class="s">"sqlite3"</span><span class="p">,</span> <span class="n">orm</span><span class="o">.</span><span class="n">DRSqlite</span><span class="p">)</span>
	<span class="n">orm</span><span class="o">.</span><span class="n">RegisterDataBase</span><span class="p">(</span><span class="s">"default"</span><span class="p">,</span> <span class="s">"sqlite3"</span><span class="p">,</span> <span class="s">"./queenbee.db"</span><span class="p">)</span>
	<span class="c">// this function can take a list, e.g. orm.RegisterModel(new(M1), new(M2), ...)</span>
	<span class="n">orm</span><span class="o">.</span><span class="n">RegisterModel</span><span class="p">(</span><span class="nb">new</span><span class="p">(</span><span class="n">ContactModel</span><span class="p">))</span>
	<span class="n">O</span> <span class="o">=</span> <span class="n">orm</span><span class="o">.</span><span class="n">NewOrm</span><span class="p">()</span>

	<span class="n">err</span> <span class="o">:=</span> <span class="n">orm</span><span class="o">.</span><span class="n">RunSyncdb</span><span class="p">(</span><span class="s">"default"</span><span class="p">,</span> <span class="no">false</span><span class="p">,</span> <span class="no">true</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Fatalf</span><span class="p">(</span><span class="s">"Failed to sync database: %v"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">main.go</code></p><div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"queenbee/models"</span>
	<span class="n">_</span> <span class="s">"queenbee/routers"</span>

	<span class="n">beego</span> <span class="s">"github.com/beego/beego/v2/server/web"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">models</span><span class="o">.</span><span class="n">InitDB</span><span class="p">()</span>
	<span class="n">beego</span><span class="o">.</span><span class="n">Run</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="view-your-database"> <a href="#view-your-database" aria-labelledby="view-your-database" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> View Your Database</h2><p>Our database is saved in a file called <code class="language-plaintext highlighter-rouge">queenbee.db</code>. To access your SQL database with a GUI, you can use a VSCode extension like <a href="https://marketplace.visualstudio.com/items?itemName=qwtel.sqlite-viewer">SQLite Viewer</a> or an application like <a href="https://sqlitebrowser.org/">DB Browser for SQLite</a>. Viewing the SQL database looks something like this, where you have a table called <code class="language-plaintext highlighter-rouge">contact_model</code> with no rows (yet).</p><p><img src="/assets/images/go/contact-table-create.png" alt="sql table created for contact model" /></p><h2 id="save-contact-to-database"> <a href="#save-contact-to-database" aria-labelledby="save-contact-to-database" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Save Contact to Database</h2><p>We can edit the POST handler on our controller to save to the database.</p><div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span><span class="n">ContactController</span><span class="p">)</span> <span class="n">Post</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Title"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Contact"</span>
	<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Thank you for your submission!"</span>
	<span class="n">c</span><span class="o">.</span><span class="n">TplName</span> <span class="o">=</span> <span class="s">"contact.tpl"</span>

	<span class="n">contact</span> <span class="o">:=</span> <span class="n">Contact</span><span class="p">{}</span>
	<span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">Ctx</span><span class="o">.</span><span class="n">BindForm</span><span class="p">(</span><span class="o">&amp;</span><span class="n">contact</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"ERROR: "</span> <span class="o">+</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">()</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">contact</span><span class="o">.</span><span class="n">Message</span> <span class="o">==</span> <span class="s">""</span> <span class="o">||</span> <span class="n">contact</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="s">""</span> <span class="o">||</span> <span class="n">contact</span><span class="o">.</span><span class="n">Email</span> <span class="o">==</span> <span class="s">""</span> <span class="p">{</span>
		<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"ERROR: Please enter all values."</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">err</span> <span class="o">=</span> <span class="n">sendEmail</span><span class="p">(</span><span class="n">contact</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"ERROR: Could not send email. "</span> <span class="o">+</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">()</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Email sent successfully!"</span>
		<span class="p">}</span>
		<span class="n">log</span><span class="o">.</span><span class="n">Default</span><span class="p">()</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">contact</span><span class="p">)</span>
		<span class="c">// NEW: Save to database</span>
		<span class="n">contactDb</span> <span class="o">:=</span> <span class="n">models</span><span class="o">.</span><span class="n">ContactModel</span><span class="p">{</span>
			<span class="n">Name</span><span class="o">:</span>    <span class="n">contact</span><span class="o">.</span><span class="n">Name</span><span class="p">,</span>
			<span class="n">Email</span><span class="o">:</span>   <span class="n">contact</span><span class="o">.</span><span class="n">Email</span><span class="p">,</span>
			<span class="n">Message</span><span class="o">:</span> <span class="n">contact</span><span class="o">.</span><span class="n">Message</span><span class="p">,</span>
		<span class="p">}</span>
		<span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">models</span><span class="o">.</span><span class="n">O</span><span class="o">.</span><span class="n">Insert</span><span class="p">(</span><span class="o">&amp;</span><span class="n">contactDb</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"ERROR: Could not save to database. "</span> <span class="o">+</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">()</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">c</span><span class="o">.</span><span class="n">Data</span><span class="p">[</span><span class="s">"Result"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Contact form received!"</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>Once you submit your contact form again, you should see an entry created in the database.</p><p><img src="/assets/images/go/contact-table-entry.png" alt="contact row entry created" /></p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-000 mb-0">Published by Merit Academy under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons License</a>.</p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/buckldav/learn-merit/tree/master/docs/golang/model-db.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div><script src="/assets/js/copy-code.js"></script>
